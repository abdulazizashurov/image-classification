(this["webpackJsonpwhatimage-frontend"]=this["webpackJsonpwhatimage-frontend"]||[]).push([[0],{35:function(e,t,a){},36:function(e,t,a){},39:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(8),c=a.n(i),r=(a(35),a(36),a(11)),o=a(22),l=a(23),d=a(29),g=a(27),m=a(28),p=(a(39),a(65)),j=a(62),u=a(63),f=a(64),h=a(10),b=a.n(h),O=a(3),v=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={files:[],isLoading:!1,errorMessage:"",resentImage:null},e.onDrop=function(t){e.setState({files:[],isLoading:!0,resentImage:null}),e.loadImage(t)},e.loadImage=function(t){setTimeout((function(){e.setState({files:t,isLoading:!1},(function(){console.log(e.state.files);var t=new FormData;t.append("picture",e.state.files[0],e.state.files[0].name),b.a.post("http://localhost:8000/api/images/",t,{headers:{accept:"application/json","content-type":"multipart/form-data"}}).catch((function(t){e.setState({errorMessage:t.message})}))}))}),1e3)},e.activateSpinner=function(){e.setState({files:[],isLoading:!0})},e.deactivateSpinner=function(){e.setState({isLoading:!1})},e.sendImage=function(){e.activateSpinner();var t=new FormData;t.append("picture",e.state.files[0],e.state.files[0].name),b.a.post("http://localhost:8000/api/images/",t,{headers:{accept:"application/json","content-type":"multipart/form-data"}}).then((function(t){e.getImageClass(t)})).catch((function(t){e.setState({errorMessage:t.message})}))},e.getImageClass=function(t){b.a.get("http://localhost:8000/api/images/".concat(t.data.id,"/"),{headers:{accept:"application/json"}}).then((function(t){e.setState({resentImage:t})})).catch((function(t){e.setState({errorMessage:t.message})})),e.deactivateSpinner()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.files.map((function(e){return Object(O.jsxs)("li",{children:[e.name," - ",e.size," bytes"]},e.name)}));return Object(O.jsx)("div",{children:Object(O.jsx)(m.a,{onDrop:this.onDrop,accept:"image/png, image/jpeg",children:function(a){var n=a.isDragActive,i=a.getRootProps,c=a.getInputProps;return Object(O.jsxs)("section",{className:"container",children:[Object(O.jsxs)("div",Object(r.a)(Object(r.a)({},i({className:"dropzone back"})),{},{children:[Object(O.jsx)("input",Object(r.a)({},c())),Object(O.jsx)("i",{className:"far fa-image mb-2 text-muted",style:{fontSize:100}}),Object(O.jsx)("p",{className:"text-muted",children:n?"Rasim yuklanmoqda":"Bironta rasim yuklang"})]})),Object(O.jsx)("aside",{children:t}),e.state.errorMessage&&Object(O.jsx)(p.a,{variant:"danger",children:e.state.errorMessage}),e.state.files.length>0&&Object(O.jsx)(j.a,{variant:"info",className:"mt-4",size:"lg",onClick:e.sendImage,children:"Yubormoq"}),e.state.isLoading&&Object(O.jsx)(u.a,{animation:"border",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden"})}),e.state.resentImage&&Object(O.jsxs)(s.a.Fragment,{children:[Object(O.jsxs)(p.a,{variant:"primary",children:["Javob:  ",e.state.resentImage.data.classified]}),Object(O.jsx)(p.a,{variant:"info",children:Object(O.jsxs)("a",{href:"https://www.google.com/search?q=".concat(e.state.resentImage.data.classified),children:[e.state.resentImage.data.classified," nima ?"]})}),Object(O.jsx)(f.a,{className:"justify-content-center",src:e.state.resentImage.data.picture,height:"200",rounded:!0})]})]})}})})}}]),a}(n.Component);var x=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(v,{})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root")),I()}},[[59,1,2]]]);
//# sourceMappingURL=main.67a3daf1.chunk.js.map